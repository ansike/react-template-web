(function(){var t={1879:function(t,e,s){"use strict";s.r(e);var i=s(7001),r=s.n(i),n=s(9025),o=s.n(n),a=new(r())({id:"icon-error",use:"icon-error-usage",viewBox:"0 0 48 48",content:'<symbol fill="none" stroke="currentColor" stroke-width="4" viewBox="0 0 48 48" aria-hidden="true" class="arco-icon arco-icon-close-circle-fill" id="icon-error"><path fill="currentColor" fill-rule="evenodd" stroke="none" d="M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm4.955-27.771-4.95 4.95-4.95-4.95a1 1 0 0 0-1.414 0l-1.414 1.414a1 1 0 0 0 0 1.414l4.95 4.95-4.95 4.95a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-4.95-4.95 4.95-4.95a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0Z" clip-rule="evenodd" /></symbol>'});o().add(a);e["default"]=a},7300:function(t,e,s){"use strict";s.r(e);var i=s(7001),r=s.n(i),n=s(9025),o=s.n(n),a=new(r())({id:"icon-success",use:"icon-success-usage",viewBox:"0 0 48 48",content:'<symbol fill="none" stroke="currentColor" stroke-width="4" viewBox="0 0 48 48" aria-hidden="true" class="arco-icon arco-icon-check-circle-fill" id="icon-success"><path fill="currentColor" fill-rule="evenodd" stroke="none" d="M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm10.207-24.379a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0L22 26.172l-4.878-4.88a1 1 0 0 0-1.415 0l-1.414 1.415a1 1 0 0 0 0 1.414l7 7a1 1 0 0 0 1.414 0l11.5-11.5Z" clip-rule="evenodd" /></symbol>'});o().add(a);e["default"]=a},5051:function(t,e,s){"use strict";s(8594);var i=s(2043),r=s(7692),n=function(){var t=this,e=t._self._c;return e("svg",{class:t.svgClass,attrs:{"aria-hidden":"true",width:t.swidth,height:t.sheight}},[e("use",{attrs:{"xlink:href":t.iconName}})])},o=[],a={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""},size:{type:[String,Number],default:20}},computed:{iconName(){return`#icon-${this.iconClass}`},svgClass(){return this.className?"svg-icon "+this.className:"svg-icon"},swidth(){return this.size<0||isNaN(this.size)?20:this.size},sheight(){return this.size<0||isNaN(this.size)?20:this.size}}},c=a,u=s(2906),l=(0,u.Z)(c,n,o,!1,null,"07d80998",null),d=l.exports;i.ZP.component("svg-icon",d);const p=s(3573),m=t=>t.keys().map(t);m(p);var h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"toast",class:`${t.visible?"show":"hide"} ${t.type??"success"}`},[e("div",{staticClass:"textBox"},["success"===t.type?e("svg-icon",{staticStyle:{color:"rgb(0,180,42)"},attrs:{"icon-class":"success"}}):t._e(),"error"===t.type?e("svg-icon",{staticStyle:{color:"rgb(245,63,63)"},attrs:{"icon-class":"error"}}):t._e(),e("span",{staticClass:"text"},[t._v(t._s(t.label))])],1)])},v=[];const f={success:"success",error:"error"};var y={name:"toast-component",data(){return{type:f.success,label:"",timeout:3e3,visible:!1}},created(){},methods:{success(t){this.type=f.success,this.label=t,this.visible=!0,setTimeout((()=>{this.visible=!1}),this.timeout)},error(t){this.type=f.error,this.label=t,this.visible=!0,setTimeout((()=>{this.visible=!1}),this.timeout)}},components:{}},g=y,b=(0,u.Z)(g,h,v,!1,null,"a42f6cea",null),C=b.exports;const _=i.ZP.extend(C);let w;const x={success:"success",error:"error"},N=Object.keys(x);i.ZP.prototype.$toast=function(t){if(!N.includes(t.type))throw`type must be in ${N}`;w||(w=new _({el:document.createElement("div")}),document.body.appendChild(w.$el)),w[t.type](t.text)};var S=function(){var t=this,e=t._self._c;return e("BgComponent",[e("div",{staticClass:"payment"},[e("DetailCard",{attrs:{"order-no":t.orderNo,payment:t.payment}}),e("CopyCard",{attrs:{payment:t.payment,code:t.upi}}),e("SubmitCard",{attrs:{payment:t.payment},on:{submit:t.submit}})],1)])},T=[],k=(s(6906),s(4454));async function $({url:t,data:e}){const s=await(0,k.ZP)(t,{method:"post",headers:{"content-type":"application/json"},data:e});return 0!==s.data.errNo&&i.ZP.prototype.$toast({type:"error",text:s.data.errStr}),s.data||{}}function P(t){return $({url:"/api/order/detail",data:{orderNo:t}})}function B(t,e){return $({url:"/api/order/submit",data:{orderNo:t,utr:e}})}function Z(t,e){return $({url:"/api/order/checkpay",data:{orderNo:t,utr:e}})}var I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bgBox"},[e("div",{staticClass:"bg"}),t._t("default")],2)},O=[],D={name:"bg-component"},U=D,j=(0,u.Z)(U,I,O,!1,null,null,null),R=j.exports,z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-card"},[t._m(0),e("div",{staticClass:"bottom"},[e("div",{staticClass:"left"},[t._v(" order No. "+t._s(t.orderNo)+" ")]),e("div",{staticClass:"right"},[t._v(" ₹ "+t._s(t.payment)+" ")])])])},E=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v("Payment")]),e("div",{staticClass:"detail"},[t._v("UPI Cashier")])]),e("div",{staticClass:"right"})])}],M={name:"detail-card",data(){return{}},props:{orderNo:String,payment:String},components:{}},q=M,F=(0,u.Z)(q,z,E,!1,null,null,null),L=F.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"copy-card"},[e("div",{staticClass:"title"},[e("span",{staticClass:"hightlight"},[t._v("Step 1: Transfer")]),e("span",{staticClass:"commonText"},[t._v(" ₹ "+t._s(t.payment)+" to the following UPI")])]),e("div",{staticClass:"subTitle"},[t._v(" Open your UP wallet and complete the transfer Record your UTR(Reference No.) after payment ")]),e("IptBox",{attrs:{msg:t.code,disabled:""}}),e("div",{staticClass:"copyBtn",on:{click:t.copyUPI}},[t._v("Copy Beneficiary UPI")])],1)},G=[],H=s(8470),J=s.n(H),K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"iptBox"},[e("input",{ref:"iptRef",staticClass:"msg",attrs:{placeholder:t.placeholder,type:t.curIptType||"text",disabled:t.isDisabled},domProps:{value:t.msg},on:{input:t.iptChange}}),t.type===t.IptType.password?e("div",{staticClass:"editBtn",on:{click:t.editContent}},[t._v("Edit")]):t._e()])},Q=[];const V={text:"text",password:"password"};var W={name:"ipt-box",props:{msg:String,placeholder:String,type:String,disabled:Boolean},data(){return{IptType:V,isDisabled:!!this.$props.disabled,curIptType:this.$props.type}},methods:{editContent(){this.isDisabled=!this.isDisabled,this.curIptType=this.isDisabled?"password":"text",this.$nextTick((()=>{this.$refs["iptRef"].focus()}))},iptChange(t){this.$emit("onChange",t.target.value)}}},X=W,Y=(0,u.Z)(X,K,Q,!1,null,"1fd4bd51",null),tt=Y.exports,et={name:"copy-card",props:{payment:String,code:String},data(){return{}},methods:{copyUPI(){J()(this.code),this.$toast({type:"success",text:"copy success"})}},components:{IptBox:tt}},st=et,it=(0,u.Z)(st,A,G,!1,null,null,null),rt=it.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"submit-card"},[e("div",{staticClass:"title"},[e("span",{staticClass:"hightlight"},[t._v("Step 2: Transfer")]),e("span",{staticClass:"commonText"},[t._v(" ₹ "+t._s(t.payment)+" to the following UPI")])]),e("IptBox",{attrs:{msg:t.curCode,placeholder:"input 12-digit here"},on:{onChange:t.iptChange}}),e("SubmitBtn",{attrs:{text:"Submit UTR"},on:{click:t.submit}})],1)},ot=[],at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"submitBtn",on:{click:t.btnClick}},[t._v(" "+t._s(t.text)+" ")])},ct=[],ut={name:"submit-btn",props:{text:String},methods:{btnClick(){this.$emit("click")}}},lt=ut,dt=(0,u.Z)(lt,at,ct,!1,null,"5e60bbb2",null),pt=dt.exports,mt={name:"submit-card",props:{payment:String},data(){return{curCode:""}},methods:{submit(){this.$emit("submit",this.curCode)},iptChange(t){this.curCode=t}},components:{IptBox:tt,SubmitBtn:pt}},ht=mt,vt=(0,u.Z)(ht,nt,ot,!1,null,null,null),ft=vt.exports,yt={name:"payment-page",data(){const{orderNo:t}=this.$route.query;return{orderNo:t,payment:"0",upi:""}},created(){document.title="OrderDetail",this.getData()},methods:{async getData(){const{data:t}=await P(this.orderNo),{payment:e,upi:s}=t;this.payment=e,this.upi=s},async submit(t){if(!t)return void this.$toast({type:"error",text:"please input utr"});const{errNo:e}=await B(this.orderNo,t);0===e&&this.$router.push(`/result?orderNo=${this.orderNo}&utr=${t}&payment=${this.payment}`)}},components:{DetailCard:L,CopyCard:rt,SubmitCard:ft,BgComponent:R}},gt=yt,bt=(0,u.Z)(gt,S,T,!1,null,null,null),Ct=bt.exports,_t=function(){var t=this,e=t._self._c;return e("BgComponent",[e("div",{staticClass:"result"},[e("div",{staticClass:"img",class:t.status}),e("div",{staticClass:"title"},[t._v(" Confirming your payment"),e("br"),t._v(" result, please wait... ")]),e("div",{staticClass:"order"},[t._v("order No. 141f62b6963d71")]),"waitting"===t.status?e("CountDown",{attrs:{time:300},on:{"time-end":t.timeEnd}}):t._e(),e("div",{staticClass:"money-box"},[e("div",{staticClass:"title"},[t._v("Payment amount")]),e("div",{staticClass:"money"},[t._v("₹ "+t._s(t.payment))])]),e("div",{staticClass:"utrText"},[t._v("My UTR/Re No.")]),e("IptBox",{attrs:{type:"password",msg:t.utr,disabled:""},on:{onChange:t.onChange}}),e("SubmitBtn",{attrs:{text:"Resubmit"},on:{click:t.resubmit}})],1)])},wt=[],xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"countDown"},[e("span",{staticClass:"num"},[t._v(t._s(t.firstNum))]),e("span",{staticClass:"point"},[t._v(":")]),e("span",{staticClass:"num"},[t._v(t._s(t.secondNum))])])},Nt=[];let St=null;var Tt={name:"count-down",props:{time:Number},data(){return{countTime:this.time}},created(){this.count()},beforeDestroy(){St&&(clearInterval(St),St=null)},methods:{count(){St=setInterval((()=>{if(this.countTime<=0)return clearInterval(St),St=null,void this.$emit("time-end");this.countTime--}),1e3)}},computed:{firstNum(t){const e=parseInt(t.countTime/60);return e<10?"0"+e:e},secondNum(t){const e=parseInt(t.countTime%60);return e<10?"0"+e:e}}},kt=Tt,$t=(0,u.Z)(kt,xt,Nt,!1,null,"1eaab3c8",null),Pt=$t.exports;const Bt={success:"success",failed:"failed",waitting:"waitting"},Zt={0:Bt.waitting,1:Bt.success,2:Bt.failed};var It={name:"result-page",data(){const{orderNo:t,utr:e,payment:s}=this.$route.query;return{status:Bt.waitting,statusImg:Bt[this.status],payment:s,orderNo:t,utr:e,timer:null}},created(){document.title="OrderStatus",this.status=Bt.waitting,this.checkPayStatus()},methods:{async checkPayStatus(){this.timer&&(clearTimeout(this.timer),this.timer=null);const{errNo:t,data:e}=await Z(this.orderNo,this.utr);if(0===t){const{payStatus:t,setTime:s}=e;this.status=Zt[t],this.status===Bt.waitting&&(this.timer=setTimeout((()=>{this.checkPayStatus(),this.timer=null}),1e3*s))}},timeEnd(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.status=Bt.failed},onChange(t){this.utr=t},async resubmit(){const{errNo:t}=await B(this.orderNo,this.utr);0===t&&(this.status=Bt.waitting,this.utr!==this.$route.query.utr&&this.$router.push(`/result?orderNo=${this.orderNo}&utr=${this.utr}&payment=${this.payment}`),this.checkPayStatus())}},components:{IptBox:tt,SubmitBtn:pt,CountDown:Pt,BgComponent:R}},Ot=It,Dt=(0,u.Z)(Ot,_t,wt,!1,null,null,null),Ut=Dt.exports;const jt=[{path:"/",redirect:"/payment"},{path:"/payment",component:Ct},{path:"/result",component:Ut}],Rt=new r.ZP({mode:"history",routes:jt});var zt=Rt,Et=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},Mt=[],qt={name:"App",components:{}},Ft=qt,Lt=(0,u.Z)(Ft,Et,Mt,!1,null,null,null),At=Lt.exports;i.ZP.config.productionTip=!1,i.ZP.use(r.ZP),new i.ZP({render:t=>t(At),router:zt}).$mount("#app")},3573:function(t,e,s){var i={"./error.svg":1879,"./success.svg":7300};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=n,t.exports=r,r.id=3573}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,i,r,n){if(!i){var o=1/0;for(l=0;l<t.length;l++){i=t[l][0],r=t[l][1],n=t[l][2];for(var a=!0,c=0;c<i.length;c++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[c])}))?i.splice(c--,1):(a=!1,n<o&&(o=n));if(a){t.splice(l--,1);var u=r();void 0!==u&&(e=u)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[i,r,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,n,o=i[0],a=i[1],c=i[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(c)var l=c(s)}for(e&&e(i);u<o.length;u++)n=o[u],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(l)},i=self["webpackChunkios"]=self["webpackChunkios"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(5051)}));i=s.O(i)})();
//# sourceMappingURL=app.e46ff040.js.map